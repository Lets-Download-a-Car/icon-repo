<!DOCTYPE html>
<title>MDI Preview Generator</title>
<link href="../../img/icon16.png" rel="shortcut icon">
<meta charset="utf-8">
<meta content="initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=0,width=device-width" name="viewport">
<meta name="robots" content="noodp">
<meta content="#303f9f" name="theme-color">
<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
<style>
	*{
		-webkit-appearance:none;
		appearance:none;
		background:none;
		background-clip:padding-box;
		border:0;
		border-radius:0;
		box-sizing:border-box;
		color:#212121;
		font-family:Roboto,arial,sans-serif;
		font-size:14px;
		-webkit-font-smoothing:antialiased;
		font-style:normal;
		font-weight:400;
		list-style:none;
		margin:0;
		outline:0;
		padding:0;
		-webkit-tap-highlight-color:rgba(0,0,0,0);
		text-align:left;
		text-decoration:none;
		text-indent:0;
		text-rendering:auto;
	}
	body{
		align-items:center;
		background:#e0e0e0;
		display:flex;
		min-height:100vh;
		padding:8px;
		justify-content:center;
	}
	section{
		background:#fff;
		border-radius:2px;
		box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);
		padding:0 16px 16px;
		width:357px;
	}
	h1{
		background:#303f9f;
		border-radius:2px 2px 0 0;
		color:#fff;
		font-size:20px;
		font-weight:normal;
		line-height:48px;
		padding:0 16px;
		margin:0 -16px 8px;
	}
	label{
		color:#757575;
		display:inline-block;
		line-height:20px;
		margin:8px 0;
		width:75px;
	}
	input,select,textarea{
		border-bottom:1px solid #bdbdbd;
		line-height:23px;
		margin:0 0 8px 0;
		transition:border .195s cubic-bezier(.4,0,.2,1);
	}
	input,select{
		display:inline-block;
		height:24px;
		width:calc(100% - 75px);
	}
	input{
		padding:0 4px;
	}
	select{
		background:url('data:image/svg+xml;utf8,<svg fill="#757575" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7,10L12,15L17,10H7Z"/></svg>') right -2px no-repeat;
		padding:0 24px 0 4px;
	}
	option:checked{
		display:none;
	}
	textarea{
		max-height:116px;
		overflow:auto;
		resize:none;
		width:100%;
	}
	input:focus,select:focus,textarea:focus{
		border-color:#9e9e9e;
	}
	input:invalid,textarea:invalid{
		border-color:#f44336;
	}
	textarea::-webkit-scrollbar{
		width:4px;
	}
	textarea::-webkit-scrollbar-thumb{
		background:rgba(0,0,0,0);
	}
	textarea:hover::-webkit-scrollbar-thumb{
		background:#9e9e9e;
	}
	canvas{
		height:294px;
		margin:16px 0 0;
		width:325px;
	}
</style>
<section>
	<h1>MDI Preview Generator</h1>
	<label for="data">Data</label><textarea id="data" required rows=2>M2,2H8V4H16V2H22V8H20V16H22V22H16V20H8V22H2V16H4V8H2V2M16,8V6H8V8H6V16H8V18H16V16H18V8H16M4,4V6H6V4H4M18,4V6H20V4H18M4,18V20H6V18H4M18,18V20H20V18H18Z</textarea>
	<label for="name">Name</label><input id="name" required type="text" value="vector-square">
	<label for="colour">Colour</label><select id="colour">
		<option selected value="9e9e9e">Grey</option>
		<option value="ffc107">Amber</option>
		<option value="2196f3">Blue</option>
		<option value="607d8b">Blue Grey</option>
		<option value="795548">Brown</option>
		<option value="00bcd4">Cyan</option>
		<option value="ff5722">Deep Orange</option>
		<option value="673ab7">Deep Purple</option>
		<option value="4caf50">Green</option>
		<option value="3f51b5">Indigo</option>
		<option value="03a9f4">Light Blue</option>
		<option value="8bc34a">Light Green</option>
		<option value="cddc39">Lime</option>
		<option value="ff9800">Orange</option>
		<option value="e91e63">Pink</option>
		<option value="9c27b0">Purple</option>
		<option value="f44336">Red</option>
		<option value="009688">Teal</option>
		<option value="ffeb3b">Yellow</option>
	</select>
	<label for="action">Action</label><select id="action">
		<option selected value="">None</option>
		<option value="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z">Download</option>
		<option value="M16,6H13V7.9H16C18.26,7.9 20.1,9.73 20.1,12A4.1,4.1 0 0,1 16,16.1H13V18H16A6,6 0 0,0 22,12C22,8.68 19.31,6 16,6M3.9,12C3.9,9.73 5.74,7.9 8,7.9H11V6H8A6,6 0 0,0 2,12A6,6 0 0,0 8,18H11V16.1H8C5.74,16.1 3.9,14.26 3.9,12M8,13H16V11H8V13Z">Link</option>
	</select>
	<canvas height="294" width="325"></canvas>
</section>
<script>
	{
		const	name=document.getElementById`name`,
			data=document.getElementById`data`,
			colour=document.getElementById`colour`,
			action=document.getElementById`action`,
			canvas=document.querySelector`canvas`,
			context=canvas.getContext`2d`,
			width=canvas.width,
			height=canvas.height,
			svg=document.createElementNS(`http://www.w3.org/2000/svg`,`svg`),
			path=document.createElementNS(`http://www.w3.org/2000/svg`,`path`),
			icon=path.cloneNode(1),
			background=new Image,
			xml=new XMLSerializer,
			image=new Image;
		let	use=document.createElementNS(`http://www.w3.org/2000/svg`,`use`),
			timer;
		context.font=`14px Roboto`;
		svg.setAttribute(`height`,284);
		svg.setAttribute(`viewBox`,`0 0 314 284`);
		svg.setAttribute(`width`,314);
		path.setAttribute(`id`,`path`);
		svg.append(path);
		use.setAttribute(`href`,`#path`);
		use.setAttribute(`transform`,`translate(0,34) scale(2,2)`);
		icon.setAttribute(`transform`,`translate(282,259) scale(.75,.75)`);
		svg.append(use,use=use.cloneNode(1),icon);
		use.setAttribute(`transform`,`translate(59,0) scale(10,10)`);
		background.src=`data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUUAAAEmCAMAAADCynKbAAAAmVBMVEX////u7u739/fx8fH6+vrd3d3i4uL8/Pz19fXPz8/s7Ozf39/z8/Pq6uro6Oj7+/vl5eWwsLC7u7uPj4+0tLT5+fnX19fJycm3t7f+/v7BwcGtra2qqqqLi4vT09PMzMxycnLw8PCFhYWUlJTa2tq9vb1/f394eHiZmZnGxsajo6OcnJyOjo6CgoKfn598fHzDw8Onp6dpaWlSOHiiAAAJKUlEQVR42uzcsY7CMBCEYeJYWSu3kDQuUub9X/K6a46FLZAY8D/VNDSfVoINdi6EEEIIIYTkcliQI/HJbavDZNtiE7Ne2p2UbvYMsTafB4q3akdAUSKl8mQarfrlL9MQzavdp+geKXm3x4ptHU1xbYFiOSOlszxW3Pw2muLNt3CggqztieK8j6a4zy9XrPMymuIyVxRRlGgooqjSUNRVnAYLs6g7iyiiiCKKn9tQRFGloYiiSmN3YXdRaSi+WDH/7xWKWcXu1335+Zdlv3pHMal4WPFzvZPTix0oxor5EyYohor5004ohor5oIji5yhOg4VZfMu3S5wDxeCXTj6lm6GYP0v74IwtisFZ2ny8G4rB04h8zoJi9GQsn7WhiCKKX6k4DRZmUXcWUUQRRRQ/t6GIokpDEUWVxu7C7qLSUERRpaGIokpDEUWVhiKKKo3dhd1FpaGIokpDEUWVhiKKKg1FFFUauwu7i0pDEUWVhiKKKg1FFFUaiiiqNHaXV4TblG94t1OYZb9yszd6t1M+p3PL/Jedu1tOFAbDAPyJshQMSKJAKn8uqKhbtd37v7jlx26r7Y7ZsDNlZt+30yQnnjwTQj7IgC8e4OsbXz7Cl2CgOJQRFKE4lBG+M4bvjA1lBEUoDmUERSgOZQRFKA5lpKS49+rGirdzD4rairPKqtvFifmpBUVdRZbWzbiYECUmahft2qWwiA4REYkcc1F7XeSJmzeSdPKhqK34KNKdU/fODncX7HQGoTizoNhD8dCwsPlqlUFRW9FYtZSSHlIDirqKbF43blo3PISiriIVM6KyAZTYL/aoo9M9L5tB6aJ20X/vkh2kUXcux90F+8WvVhzlgkGxn2Jwql62HlG0hKK+YvwyoR+1olXMoKirONta1CpSgmc62orsiRpFPF/sNxeL17l4MKGoq0gL3im6W6yL+orWaZ6X6ymvpjgz1ufMWHjaHgv+HfvFHnNRWKhd/sHdBRVgf0UqxlDsr+jPTSj2rwB3P6v5jyYjKGorfjPX9V+TAIp4vgjFIY+UFGVySbzIDdQumrVLWKbCtve7wt7zs425qDcXN7zro5jIqRwo6j4Z69LsdOwYirpnI7rIjGhUQrFfHZ3kREb69mOrbWdQVFCknd31xnlM5O/oNSJo2mcHiiqK40I+tOX0pm43grpkNs9t2865AUUVRQpkVaVVtW/GEaMufsizsI6DdVG5dhl7jG6TT3B3+TtFK6CruBlROEPt0kZNkfHt6rzaTektznJCIsBcVJ+Lo7NkdRceM3rLPubxoglnUFTa6Vz02NX76AdX+m4T7BdVFGdHuiS5fiFtWriiNSpAkd/4jjAXlediSpfw9fWbBL7gMhZYF9XWxWnXWzfndKTvZeRFuKKVFL3juv1VKekqsTVeEi0foKiiSM78fErK1YauIxySwaP4DkXF2oWFmWnQTXyTTC6FhdpF8UTyn3m9CdZFNUX6PNzAflFZkWJBn2bpQlFd0X0pc9NrMruuXWTUHDwJoKiieJhf8nR92imL2mCngxMmX61omHYeMigqKfrLTfZIH+PxRZQv4ykUFRST1Q9eFoxuE/B1Y+ssXCjeVbRbwCz9ZIp2vfeM9y53Fcus66YfeM2utzieL95V3LK2E890k8inLhI7nbuKx67LxR8VxRiKioq2/KAoll04FO9f0Umbsmi7d2CO/5oJFO8phvb74AtZqAChOOgRFIerOPrPoq3Iwt/BWVp9xfYw8r7+j6DY64qOGi62wbrYSzFu22ec01FTzMpq1caj95FO3TwuUAEqKYqnz08qTqXpOnuBK/pXe+farCYMhOE9YAhguASDohS8QY/Hejnt//9xtdR2xEuNwnSY8X0cHT/46RlJNsnuRsviPr55mKAix4ZFvTs1EHW3c7/LVcbWZELCh0W9cTGhqxQlUxRI5IxpWfTWq6l1JcNEGrEimrzhv6iVYbIZbDabwWAzcOkUFcQKJwZNo+58NFfjYYJxsZHFIE9TmbzB4l2LQtA/4MJApKNhMVOH9+wPHp1i2kRhIWDx/n/RppsoQZ4cRRwWG+7plBZNMEc3spiEVkI0Qb1LI4tekoYkUgNrl2anVwERR70LPWoRlb2tWwxlKmWKvW49ix4dYe7Z7OLlFKKyV8/ikh0l7gUqe5+2OF9UGou9RzWiN0r4OMLOmJZFmmeMiC3cy8reQkUJZhc9iyQyxrI5XcH1DYyL2lXmWWZfq74qKAhg8Z7FZHBksf316dIpnpooEglyxu5ZnPs1grPZJVZEJTJMGu7p4PSqolHfiI8iVjSX2F9s1DfCjqJ0Khlml0Z9I4h7rG/j3EVzHS2XIxb6BzjydJqc6h+oRzrm6AD6RjSco232G/QwQb3L/7VYfM8Wy8n5Tzn7jMgMsXbRshivBk7oW2o7pxp5aSkKEsSLWhalogqWUQ3VixXhPFrT4t+1y8qv2+0h8+6Z7r4OnTL89FRviBoDLYtGdnJLzinjXKZpicw7zXtS58cvG0GnhD2yY0Q6mhanv+3xaEU1JO7UeMAifcy+5MVku4qpBstjWNS3SPPP9U6yC7kqTaIIXc81epjYdJM3ryLA2uWexfWPrPSxjm76RAeF3L6nRXC1gs3Bzpj+uGiOdu/fRoLOmCoHfSMeu/cqLJdZUheWCjzRj1mkOP+yHZh0ikLX84cs+uVgtnPOpYVTDouaFg1n/b6VbEwXfEjEi3oWP7Mfy9K9FS/i9jA9i16ZLZIQ8WLjcdH8WO7TiyfaDSt8jj5juvUuhrN7X9cv9BxOKpTC/uIDkQ4ffv+6EnRBH1XmD1gMo83+i02XYI7WtGgfgp0bmxLIX9SyyK0km+2mBt3AkOiRfNeinO3TgtMlpvcLn0VTjIt3LToeXWeq5OGlyiGHxcpiuwRm+GoWQzOglgmE/2oWfdG6RW671jB3XoZ8aLk2b91iT7h+aL0Moe+KXusWx7xnC/OFEHaPj6l9jTwIei9DEPCDRAAAAAAAALQx+ww8Td+kir5rG+BZvD5VMEhsAjtaNAAsPgYsdhJYhMWuAIuw2BVgERa7AizCYleARVjsCrAIi10BFmGxK8AiLHYFWITFrgCLsNgVYBEWuwIswmJHsI8W+x4SdZ7G9vvIvGst8+4nW6ZDOj840vkAAAAASUVORK5CYII=`;
		image.addEventListener(`load`,_=>{
			context.clearRect(0,0,width,height);
			context.drawImage(background,0,0);
			if(colour.value!==`9e9e9e`){
				context.globalCompositeOperation=`overlay`;
				context.fillRect(0,0,width,height);
				context.globalCompositeOperation=`source-over`;
			}
			context.fillText(name.value.toLowerCase().replace(/ /g,`-`),11,282);
			context.drawImage(image,11,10);
			URL.revokeObjectURL(image.src);
		},0);
		document.addEventListener(`input`,_=>{
			clearTimeout(timer);
			timer=setTimeout(_=>{
				data.style.height=`24px`;
				data.style.height=data.scrollHeight+1+`px`;
				path.setAttribute(`d`,data.value);
				path.setAttribute(`fill`,context.fillStyle=`#`+colour.value);
				icon.setAttribute(`d`,action.value);
				icon.setAttribute(`fill`,`#`+colour.value);
				image.src=URL.createObjectURL(new Blob([xml.serializeToString(svg)],{type:`image/svg+xml;charset=utf-8`}));
			},50);
		},1);
		data.dispatchEvent(new Event(`input`));
		(async _=>{
			await new Promise(resolve=>{
				let script=document.createElement`script`;
				script.async=1;
				script.src=`https://www.googletagmanager.com/gtag/js?id=UA-109147935-1`;
				document.body.append(script);
				script.addEventListener(`load`,resolve,0);
			});
			window.dataLayer=window.dataLayer||[];
			let gtag=function(){window.dataLayer.push(arguments);};
			gtag(`js`,new Date());
			gtag(`config`,`UA-109147935-1`);
		})();
	}
</script>